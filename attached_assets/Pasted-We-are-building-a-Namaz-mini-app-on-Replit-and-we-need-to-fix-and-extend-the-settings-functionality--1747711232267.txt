We are building a Namaz mini app on Replit and we need to fix and extend the settings functionality. Here's what we want to achieve and the context:

PROBLEM:
Right now, in the user settings, we want the user to be able to choose their city from a dropdown menu, but it's not working — the list isn't populated. We believe it's because city data needs to be fetched from an API and either dynamically used or stored in our DB.

API Reference:
We found a public API from https://api.muftyat.kz/cities/ that returns JSON data like this:

{
“count”: 5683,
“next”: “…”,
“results”: [
{
“id”: 72,
“title”: “Алматы қаласы”,
“lng”: “76.945465”,
“lat”: “43.238293”,
“timezone”: “5”,
…
},
…
]
}

TASKS TO IMPLEMENT:

1. City Dropdown Setup:
   - Fetch all cities from https://api.muftyat.kz/cities/ (pagination might be required).
   - Parse the city name (`title`) and id, and populate a dropdown <select> in settings.
   - When the user picks a city, save it in their profile.

2. Prayer Time Integration:
   - Once a user selects a city, store the associated lat, lng, and timezone.
   - Use these to fetch the Namaz timing from the Muftyat API. Example:
     - For Алматы: lat=43.238293, lng=76.945465
     - Use this endpoint: https://namaz.muftyat.kz/kk/namaz/api/times/
     - Pass lat/lng as query params (see [Muftyat Namaz API docs](https://namaz.muftyat.kz/kk/namaz/api/) if available).
   - Display the current day's Namaz timings in the app, adjusted for the correct timezone.

3. Future-Proofing:
   - Add a check to see if city data is already in DB, and if not, populate it dynamically.
   - Add optional caching mechanism or only store selected cities to reduce DB weight.

GOAL:
Let the user select their city and automatically see accurate Namaz times for that day, based on their chosen location.

---

Please implement the above flow and ensure that:
- The dropdown works
- City coordinates are saved
- Prayer times are fetched and displayed based on user location

TASKS TO IMPLEMENT:

1. City Dropdown Setup:
   - Fetch all cities from https://api.muftyat.kz/cities/ (pagination might be required).
   - Parse the city name (`title`) and id, and populate a dropdown <select> in settings.
   - When the user picks a city, save it in their profile.

2. Prayer Time Integration:
   - Once a user selects a city, store the associated lat, lng, and timezone.
   - Use these to fetch the Namaz timing from the Muftyat API. Example:
     - For Алматы: lat=43.238293, lng=76.945465
     - Use this endpoint: https://namaz.muftyat.kz/kk/namaz/api/times/
     - Pass lat/lng as query params (see [Muftyat Namaz API docs](https://namaz.muftyat.kz/kk/namaz/api/) if available).
   - Display the current day's Namaz timings in the app, adjusted for the correct timezone.

3. Future-Proofing:
   - Add a check to see if city data is already in DB, and if not, populate it dynamically.
   - Add optional caching mechanism or only store selected cities to reduce DB weight.

GOAL:
Let the user select their city and automatically see accurate Namaz times for that day, based on their chosen location.

---

Please implement the above flow and ensure that:
- The dropdown works
- City coordinates are saved
- Prayer times are fetched and displayed based on user location